<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MentorMoment</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root {
    --orange: #FFA500;
    --dark-brown: #3E2C23;
    --white: #FFFFFF;
    --grey: #F5F5F5;
    --light-brown: #D9C1B1;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }

body { background: linear-gradient(180deg, var(--white) 0%, var(--grey) 100%); color: var(--dark-brown); line-height: 1.6; min-height: 100vh; }

.container { max-width: 1200px; margin: 0 auto; padding: 20px; }

header { text-align: center; margin-bottom: 50px; }
header h1 { font-size: 3rem; color: var(--orange); margin-bottom: 20px; }
header p { font-size: 1.2rem; color: var(--dark-brown); }

.cta-btn { display: inline-block; background-color: var(--orange); color: var(--white); padding: 20px 40px; font-size: 1.5rem; text-decoration: none; border-radius: 10px; margin-top: 30px; transition: all 0.3s ease; }
.cta-btn:hover { background-color: var(--dark-brown); color: var(--orange); transform: scale(1.05); }

.waiting { margin-top: 10px; font-size: 0.9rem; color: var(--dark-brown); }

/* SIGNUP FORM */
#signup { display: flex; justify-content: center; margin-top: 50px; }
#signup form { background: linear-gradient(135deg, var(--light-brown), var(--dark-brown)); padding: 40px; border-radius: 15px; width: 100%; max-width: 500px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); color: var(--white); text-align: center; }
#signup form h2 { margin-bottom: 20px; }
#signup form input, #signup form select, #signup form button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 6px; border: none; font-size: 1rem; }
#signup form input, #signup form select { border: 1px solid var(--white); background-color: rgba(255,255,255,0.1); color: var(--white); }
#signup form input::placeholder, #signup form select { color: var(--white); opacity: 0.9; }
#signup form button { background-color: var(--orange); color: var(--white); font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
#signup form button:hover { background-color: var(--white); color: var(--orange); }

/* SPONSOR SECTION */
.sponsor-section { width: 100%; background: linear-gradient(90deg, #1C1C1C, #000000); padding: 40px 20px; margin-top: 50px; display: flex; justify-content: center; }
.sponsor-box { width: 100%; max-width: 1000px; text-align: center; color: var(--white); padding: 25px 30px; border-radius: 12px; }
.sponsor-box h3 { font-size: 2rem; color: var(--orange); margin-bottom: 10px; }
.sponsor-box p { font-size: 1rem; margin-bottom: 15px; }
.sponsor-box input, .sponsor-box button { width: 100%; margin: 8px 0; padding: 12px; border-radius: 6px; border: none; font-size: 1rem; }
.sponsor-box button { background-color: var(--orange); color: var(--white); font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
.sponsor-box button:hover { background-color: var(--white); color: var(--orange); }

/* FOOTER */
footer { display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; text-align: center; padding: 20px; color: var(--white); background: linear-gradient(90deg, var(--dark-brown), #3A261D); }
footer a { color: var(--orange); font-size: 1.3rem; transition: color 0.3s ease; }
footer a:hover { color: var(--white); }

/* POPUP */
.popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--orange); color: var(--white); padding: 30px 40px; border-radius: 12px; text-align: center; font-size: 1.1rem; box-shadow: 0 6px 20px rgba(0,0,0,0.3); display: none; z-index: 1000; }
.popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; z-index: 999; }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1>MentorMoment</h1>
        <p>Verbindt afstuderende studenten met uw bedrijf via korte mentor- en kennismomenten. Help jong talent richting te geven in hun carrièrekeuze, versterk uw bedrijfsimago en inspireer de professionals van morgen.</p>

        <a href="#signup" id="main-register" class="cta-btn">Registreer uw bedrijf voor €100/maand</a>
        <div class="waiting" id="company-waiting">Nog 0 bedrijven staan in de wachtlijst.</div>
    </header>

    <section id="signup">
        <form id="company-form">
            <h2>Schrijf uw bedrijf in</h2>
            <input type="text" name="company" placeholder="Bedrijfsnaam" required>
            <input type="text" name="contact" placeholder="Contactpersoon" required>
            <input type="email" name="email" placeholder="E-mail" required>
            <select name="package">
                <option value="100">€100/maand - Onbeperkte mentorafspraken</option>
            </select>
            <button type="submit">Aanmelden</button>
        </form>
    </section>
</div>

<section class="sponsor-section">
    <div class="sponsor-box">
        <h3>Sponsor MentorMoment</h3>
        <p>Hier uw reclame! Promoot uw merk op MentorMoment — voor slechts €50 per maand.</p>
        <form id="sponsor-form">
            <input type="text" name="sponsor" placeholder="Naam bedrijf" required>
            <input type="email" name="sponsor-email" placeholder="E-mail" required>
            <button type="submit">Sponsor ons</button>
        </form>
        <div id="sponsor-waiting" class="waiting">Nog 0 sponsors staan in de wachtlijst.</div>
    </div>
</section>

<footer>
    <p>&copy; 2025 MentorMoment | Alle rechten voorbehouden.</p>
    <a href="https://www.instagram.com/mentormomentbe/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
</footer>

<div class="popup-overlay" id="popup-overlay"></div>
<div class="popup" id="popup"><p id="popup-message"></p></div>

<script>
let companyCount = 0;
let sponsorCount = 0;

const companyForm = document.getElementById('company-form');
const companyWaiting = document.getElementById('company-waiting');
const sponsorForm = document.getElementById('sponsor-form');
const sponsorWaiting = document.getElementById('sponsor-waiting');
const mainRegister = document.getElementById('main-register');

const popup = document.getElementById('popup');
const popupOverlay = document.getElementById('popup-overlay');
const popupMessage = document.getElementById('popup-message');

function showPopup(message, redirectURL = null) {
    popupMessage.textContent = message;
    popup.style.display = 'block';
    popupOverlay.style.display = 'block';
    setTimeout(() => {
        popup.style.display = 'none';
        popupOverlay.style.display = 'none';
        if(redirectURL) window.open(redirectURL, '_blank');
    }, 4000);
}

// Ophalen van huidige counts
async function loadCounts() {
    try {
        const res = await fetch('/.netlify/functions/getCounts');
        const data = await res.json();
        companyCount = data.companies || 0;
        sponsorCount = data.sponsors || 0;
        companyWaiting.innerText = `Nog ${companyCount} bedrijven staan in de wachtlijst.`;
        sponsorWaiting.innerText = `Nog ${sponsorCount} sponsors staan in de wachtlijst.`;
    } catch(err) { console.error(err); }
}

// Increment teller
async function increment(type) {
    const res = await fetch('/.netlify/functions/incrementCount', {
        method: 'POST',
        body: JSON.stringify({ type }),
        headers: { 'Content-Type': 'application/json' }
    });
    const data = await res.json();
    if(type === 'companies') {
        companyCount = data.companies;
        companyWaiting.innerText = `Nog ${companyCount} bedrijven staan in de wachtlijst.`;
    } else {
        sponsorCount = data.sponsors;
        sponsorWaiting.innerText = `Nog ${sponsorCount} sponsors staan in de wachtlijst.`;
    }
}

loadCounts();

// Formulieren
companyForm.addEventListener('submit', async function(e){
    e.preventDefault();
    const name = companyForm.querySelector('input[name="company"]').value.trim();
    const contact = companyForm.querySelector('input[name="contact"]').value.trim();
    const email = companyForm.querySelector('input[name="email"]').value.trim();
    if(name && contact && email){
        await increment('companies');
        showPopup("Bedankt! U wordt doorverwezen naar een korte vragenlijst. Na de vragenlijst wordt u automatisch in de wachtrij geplaatst en nemen we spoedig contact met u op.","YOUR_GOOGLE_FORM_URL_HIER");
        companyForm.reset();
    }
});

mainRegister.addEventListener('click', async function(e){
    e.preventDefault();
    await increment('companies');
    showPopup("Bedankt! U wordt doorverwezen naar een korte vragenlijst. Na de vragenlijst wordt u automatisch in de wachtrij geplaatst en nemen we spoedig contact met u op.","YOUR_GOOGLE_FORM_URL_HIER");
});

sponsorForm.addEventListener('submit', async function(e){
    e.preventDefault();
    const name = sponsorForm.querySelector('input[name="sponsor"]').value.trim();
    const email = sponsorForm.querySelector('input[name="sponsor-email"]').value.trim();
    if(name && email){
        await increment('sponsors');
        showPopup("Bedankt! U bent op de wachtlijst geplaatst. We nemen binnenkort contact met u op via e-mail.");
        sponsorForm.reset();
    }
});
</script>

</body>
</html>
